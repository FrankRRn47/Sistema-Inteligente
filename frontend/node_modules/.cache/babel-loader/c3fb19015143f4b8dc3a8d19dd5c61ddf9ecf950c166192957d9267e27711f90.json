{"ast":null,"code":"import _objectSpread from\"C:/Users/Loq/Desktop/gatoportafolio/EmocionesDos - versioncuatroedit01 - 100% funcional - vedit/SIMPACeditDos/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import useAuth from'../hooks/useAuth.js';import{loginUser}from'../services/authService.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();const{login}=useAuth();const[form,setForm]=useState({email:'',password:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleChange=event=>{const{name,value}=event.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async event=>{event.preventDefault();setError('');setLoading(true);try{const response=await loginUser(form);login(response.token,response.user);navigate('/analyze');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'Credenciales inválidas.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',gap:'2.5rem',alignItems:'flex-start',justifyContent:'center',margin:'3.5rem 0'},children:[/*#__PURE__*/_jsxs(\"article\",{className:\"auth-illustration\",style:{minWidth:320,maxWidth:360,flex:'0 0 auto',background:'linear-gradient(135deg, #f7f7fa 70%, #e0e7ff 100%)',borderRadius:'1.25rem',padding:'2rem 1.5rem',boxShadow:'0 4px 16px #0001',border:'1.5px solid #e0e7ff'},children:[/*#__PURE__*/_jsx(\"p\",{className:\"auth-kicker\",style:{fontWeight:600,color:'#3b3b5c',marginBottom:'1.2rem',fontSize:'1.1rem'},children:\"Accede a tu cuenta\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1.2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:'0.75rem',padding:'1.1rem 1.2rem',boxShadow:'0 1px 4px #0001',border:'1px solid #e0e7ff'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500,color:'#6b7280'},children:\"Correo empresarial\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#3b3b5c',fontSize:'1.05rem',marginTop:'0.2rem'},children:\"Ejemplo: ana.martinez@tuempresa.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:'0.75rem',padding:'1.1rem 1.2rem',boxShadow:'0 1px 4px #0001',border:'1px solid #e0e7ff'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500,color:'#6b7280'},children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#3b3b5c',fontSize:'1.05rem',marginTop:'0.2rem'},children:\"TuClaveFuerte!2025\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-sample-foot\",style:{marginTop:'1.5rem',color:'#6b7280',fontSize:'0.98rem'},children:\"Ingresa tus credenciales para continuar.\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{display:'flex',flexDirection:'column',gap:'1.2rem',minWidth:320,maxWidth:360,flex:'0 0 auto',background:'#fff',borderRadius:'1.25rem',boxShadow:'0 4px 16px #0001',border:'1.5px solid #e0e7ff',padding:'2rem 1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",style:{fontWeight:500,color:'#3b3b5c'},children:\"Correo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",value:form.email,onChange:handleChange,required:true,style:{fontWeight:600,fontSize:'1.05rem',background:'#f7f7fa',border:'1px solid #e0e7ff',borderRadius:'0.75rem',padding:'0.8rem 1rem',marginTop:'0.2rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",style:{fontWeight:500,color:'#3b3b5c'},children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",value:form.password,onChange:handleChange,required:true,style:{fontWeight:600,fontSize:'1.05rem',background:'#f7f7fa',border:'1px solid #e0e7ff',borderRadius:'0.75rem',padding:'0.8rem 1rem',marginTop:'0.2rem'}})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'crimson',fontWeight:500},children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn\",type:\"submit\",disabled:loading,style:{fontWeight:600,fontSize:'1.08rem',borderRadius:'0.75rem',padding:'0.9rem 0'},children:loading?'Ingresando...':'Entrar'}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center',marginTop:'0.5rem',color:'#6b7280'},children:[\"\\xBFNuevo usuario? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Crea una cuenta\"})]})]})]});}export default Login;","map":{"version":3,"names":["useState","Link","useNavigate","useAuth","loginUser","jsx","_jsx","jsxs","_jsxs","Login","navigate","login","form","setForm","email","password","error","setError","loading","setLoading","handleChange","event","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","response","token","user","err","_err$response","_err$response$data","data","message","style","display","flexDirection","gap","alignItems","justifyContent","margin","children","className","minWidth","maxWidth","flex","background","borderRadius","padding","boxShadow","border","fontWeight","color","marginBottom","fontSize","marginTop","onSubmit","htmlFor","id","type","onChange","required","disabled","textAlign","to"],"sources":["C:/Users/Loq/Desktop/gatoportafolio/EmocionesDos - versioncuatroedit01 - 100% funcional - vedit/SIMPACeditDos/frontend/src/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nimport useAuth from '../hooks/useAuth.js';\r\nimport { loginUser } from '../services/authService.js';\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth();\r\n  const [form, setForm] = useState({ email: '', password: '' });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n    try {\r\n      const response = await loginUser(form);\r\n      login(response.token, response.user);\r\n      navigate('/analyze');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || err.message || 'Credenciales inválidas.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'row', gap: '2.5rem', alignItems: 'flex-start', justifyContent: 'center', margin: '3.5rem 0' }}>\r\n      {/* Recuadro de ejemplo profesional */}\r\n      <article className=\"auth-illustration\" style={{ minWidth: 320, maxWidth: 360, flex: '0 0 auto', background: 'linear-gradient(135deg, #f7f7fa 70%, #e0e7ff 100%)', borderRadius: '1.25rem', padding: '2rem 1.5rem', boxShadow: '0 4px 16px #0001', border: '1.5px solid #e0e7ff' }}>\r\n        <p className=\"auth-kicker\" style={{ fontWeight: 600, color: '#3b3b5c', marginBottom: '1.2rem', fontSize: '1.1rem' }}>Accede a tu cuenta</p>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1.2rem' }}>\r\n          <div style={{ background: '#fff', borderRadius: '0.75rem', padding: '1.1rem 1.2rem', boxShadow: '0 1px 4px #0001', border: '1px solid #e0e7ff' }}>\r\n            <span style={{ fontWeight: 500, color: '#6b7280' }}>Correo empresarial</span>\r\n            <div style={{ fontWeight: 600, color: '#3b3b5c', fontSize: '1.05rem', marginTop: '0.2rem' }}>Ejemplo: ana.martinez@tuempresa.com</div>\r\n          </div>\r\n          <div style={{ background: '#fff', borderRadius: '0.75rem', padding: '1.1rem 1.2rem', boxShadow: '0 1px 4px #0001', border: '1px solid #e0e7ff' }}>\r\n            <span style={{ fontWeight: 500, color: '#6b7280' }}>Contraseña</span>\r\n            <div style={{ fontWeight: 600, color: '#3b3b5c', fontSize: '1.05rem', marginTop: '0.2rem' }}>TuClaveFuerte!2025</div>\r\n          </div>\r\n        </div>\r\n        <p className=\"auth-sample-foot\" style={{ marginTop: '1.5rem', color: '#6b7280', fontSize: '0.98rem' }}>\r\n          Ingresa tus credenciales para continuar.\r\n        </p>\r\n      </article>\r\n      {/* Recuadro de login real */}\r\n      <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '1.2rem', minWidth: 320, maxWidth: 360, flex: '0 0 auto', background: '#fff', borderRadius: '1.25rem', boxShadow: '0 4px 16px #0001', border: '1.5px solid #e0e7ff', padding: '2rem 1.5rem' }}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\" style={{ fontWeight: 500, color: '#3b3b5c' }}>Correo</label>\r\n          <input id=\"email\" name=\"email\" type=\"email\" value={form.email} onChange={handleChange} required style={{ fontWeight: 600, fontSize: '1.05rem', background: '#f7f7fa', border: '1px solid #e0e7ff', borderRadius: '0.75rem', padding: '0.8rem 1rem', marginTop: '0.2rem' }} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\" style={{ fontWeight: 500, color: '#3b3b5c' }}>Contraseña</label>\r\n          <input id=\"password\" name=\"password\" type=\"password\" value={form.password} onChange={handleChange} required style={{ fontWeight: 600, fontSize: '1.05rem', background: '#f7f7fa', border: '1px solid #e0e7ff', borderRadius: '0.75rem', padding: '0.8rem 1rem', marginTop: '0.2rem' }} />\r\n        </div>\r\n        {error && <p style={{ color: 'crimson', fontWeight: 500 }}>{error}</p>}\r\n        <button className=\"primary-btn\" type=\"submit\" disabled={loading} style={{ fontWeight: 600, fontSize: '1.08rem', borderRadius: '0.75rem', padding: '0.9rem 0' }}>\r\n          {loading ? 'Ingresando...' : 'Entrar'}\r\n        </button>\r\n        <p style={{ textAlign: 'center', marginTop: '0.5rem', color: '#6b7280' }}>\r\n          ¿Nuevo usuario? <Link to=\"/register\">Crea una cuenta</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import{useCallback,useEffect,useMemo,useState}from'react';import MediaResultCard from'../components/MediaResultCard.jsx';import StatCard from'../components/StatCard.jsx';import{fetchMediaHistory,fetchModelMetadata}from'../services/mediaService.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HERO_TITLE='Panel maestro de emociones';const HERO_SUBTITLE='Explora cómo se comportan las emociones detectadas y filtra los registros según el sentimiento dominante.';const ALL_EMOTIONS_LABEL='Todas las emociones';const EMOTION_TRANSLATIONS={angry:'Enojo',disgust:'Desagrado',fear:'Miedo',happy:'Felicidad',neutral:'Neutral',sad:'Tristeza',surprise:'Sorpresa'};const getEmotionLabel=label=>{if(!label){return'';}const key=label.toString().trim().toLowerCase();return EMOTION_TRANSLATIONS[key]||label;};function Dashboard(){var _filteredHistoryRecor,_overviewPool$,_stats$emotionCounter;const[overviewPool,setOverviewPool]=useState([]);const[latestResults,setLatestResults]=useState([]);const[history,setHistory]=useState([]);const[activeEmotion,setActiveEmotion]=useState('all');const[availableEmotions,setAvailableEmotions]=useState([]);const[modelLabels,setModelLabels]=useState([]);const[historyLoading,setHistoryLoading]=useState(false);const[error,setError]=useState('');const loadOverview=useCallback(async()=>{try{var _response$filters;const response=await fetchMediaHistory({limit:30});const items=response.items||[];setOverviewPool(items);setLatestResults(items.slice(0,4));setAvailableEmotions(((_response$filters=response.filters)===null||_response$filters===void 0?void 0:_response$filters.available_emotions)||[]);}catch(loadError){var _loadError$response,_loadError$response$d;setError(((_loadError$response=loadError.response)===null||_loadError$response===void 0?void 0:(_loadError$response$d=_loadError$response.data)===null||_loadError$response$d===void 0?void 0:_loadError$response$d.message)||'No se pudo cargar el dashboard de emociones.');}},[]);const loadMetadata=useCallback(async()=>{try{const metadata=await fetchModelMetadata();setModelLabels(metadata.labels||[]);}catch(metadataError){console.error('No se pudo obtener etiquetas del modelo',metadataError);}},[]);const loadHistory=useCallback(async()=>{setHistoryLoading(true);setError('');try{var _response$filters2;const response=await fetchMediaHistory({limit:18,emotion:activeEmotion});setHistory(response.items||[]);setAvailableEmotions(((_response$filters2=response.filters)===null||_response$filters2===void 0?void 0:_response$filters2.available_emotions)||[]);}catch(loadError){var _loadError$response2,_loadError$response2$;setError(((_loadError$response2=loadError.response)===null||_loadError$response2===void 0?void 0:(_loadError$response2$=_loadError$response2.data)===null||_loadError$response2$===void 0?void 0:_loadError$response2$.message)||'No se pudo filtrar el historial.');}finally{setHistoryLoading(false);}},[activeEmotion]);useEffect(()=>{loadOverview();loadMetadata();},[loadOverview,loadMetadata]);useEffect(()=>{loadHistory();},[loadHistory]);const stats=useMemo(()=>{const total=overviewPool.length;const emotionCounter=overviewPool.reduce((acc,item)=>{if(!item.dominant_emotion){return acc;}const key=item.dominant_emotion;acc[key]=(acc[key]||0)+1;return acc;},{});return{total,emotionCounter};},[overviewPool]);const filteredOverview=useMemo(()=>{if(activeEmotion==='all'){return overviewPool;}return overviewPool.filter(item=>{if(!item.dominant_emotion)return false;return item.dominant_emotion.toLowerCase()===activeEmotion.toLowerCase();});},[overviewPool,activeEmotion]);const filteredLatestResults=useMemo(()=>{if(activeEmotion==='all'){return latestResults;}return latestResults.filter(item=>{if(!item.dominant_emotion)return false;return item.dominant_emotion.toLowerCase()===activeEmotion.toLowerCase();});},[latestResults,activeEmotion]);const featuredLatestResults=filteredLatestResults.slice(0,2);const filteredHistoryRecords=useMemo(()=>{if(activeEmotion==='all'){return history;}return history.filter(item=>{if(!item.dominant_emotion)return false;return item.dominant_emotion.toLowerCase()===activeEmotion.toLowerCase();});},[history,activeEmotion]);const averageConfidence=filteredOverview.length?filteredOverview.reduce((acc,item)=>acc+(item.confidence||0),0)/filteredOverview.length:0;const lastUpdated=((_filteredHistoryRecor=filteredHistoryRecords[0])===null||_filteredHistoryRecor===void 0?void 0:_filteredHistoryRecor.created_at)||((_overviewPool$=overviewPool[0])===null||_overviewPool$===void 0?void 0:_overviewPool$.created_at);const emotionSnapshots=useMemo(()=>{const snapshotMap=new Map();[...overviewPool,...history].forEach(item=>{if(!(item!==null&&item!==void 0&&item.dominant_emotion)||!item.snapshot_url){return;}if(!snapshotMap.has(item.dominant_emotion)){snapshotMap.set(item.dominant_emotion,item.snapshot_url);}});return snapshotMap;},[overviewPool,history]);const activeEmotionLabel=activeEmotion==='all'?ALL_EMOTIONS_LABEL:getEmotionLabel(activeEmotion);const heroDescription=activeEmotion==='all'?HERO_SUBTITLE:\"Mostrando capturas clasificadas como \".concat(activeEmotionLabel,\".\");const activeEmotionCount=activeEmotion==='all'?stats.total:((_stats$emotionCounter=stats.emotionCounter)===null||_stats$emotionCounter===void 0?void 0:_stats$emotionCounter[activeEmotion])||0;const activeEmotionCountLabel=activeEmotionCount>0?\"\".concat(activeEmotionCount,\" \").concat(activeEmotionCount===1?'captura':'capturas'):'Sin capturas registradas';const historyBadgeLabel=historyLoading?'Actualizando…':\"\".concat(filteredHistoryRecords.length,\" \").concat(filteredHistoryRecords.length===1?'registro':'registros').concat(activeEmotion!=='all'?\" \\xB7 \".concat(activeEmotionLabel):'');const handleEmotionSelect=useCallback(label=>{setActiveEmotion(label);},[]);const summaryCards=[{label:'Muestras registradas',value:stats.total},{label:'Promedio de confianza',value:\"\".concat((averageConfidence*100).toFixed(1),\"%\")},{label:'Emociones presentes',value:Object.keys(stats.emotionCounter||{}).length},{label:'Última actualización',value:lastUpdated?new Date(lastUpdated).toLocaleTimeString():'N/D'}];return/*#__PURE__*/_jsxs(\"section\",{className:\"app-container emotion-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-hero card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-hero-head\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Dashboard emociones\"}),/*#__PURE__*/_jsx(\"h1\",{children:HERO_TITLE}),/*#__PURE__*/_jsx(\"p\",{children:heroDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-hero-meta\",children:[/*#__PURE__*/_jsx(\"span\",{children:activeEmotionLabel}),/*#__PURE__*/_jsx(\"small\",{children:activeEmotionCountLabel})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion-summary-grid\",children:summaryCards.map(_ref=>{let{label,value}=_ref;return/*#__PURE__*/_jsx(StatCard,{label:label,value:value},label);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-cascade-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"emotion-preview-card all\".concat(activeEmotion==='all'?' is-active':''),onClick:()=>handleEmotionSelect('all'),children:\"Todas\"}),Object.entries(EMOTION_TRANSLATIONS).map(_ref2=>{let[en,es]=_ref2;return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"emotion-preview-card \".concat(en).concat(activeEmotion===en?' is-active':''),onClick:()=>handleEmotionSelect(en),children:es},en);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion-panels-grid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"emotion-panel-kicker\",children:\"Pulso inmediato\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"emotion-section-title\",children:\"\\xDAltimas capturas filtradas\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"emotion-chip chip-live\",children:\"En vivo\"})]}),filteredLatestResults.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"emotion-dashboard-empty\",children:activeEmotion==='all'?'Aún no hay registros recientes.':\"No hay registros recientes para \".concat(activeEmotionLabel,\".\")}):/*#__PURE__*/_jsx(\"div\",{className:\"emotion-latest-grid\",children:featuredLatestResults.map(item=>/*#__PURE__*/_jsx(MediaResultCard,{item:item},\"latest-\".concat(item.id)))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"emotion-panel-kicker\",children:\"Historial almacenado\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"emotion-section-title\",children:\"Anal\\xEDticas filtradas\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"emotion-chip\",children:historyBadgeLabel})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"media-error\",children:error}),historyLoading?/*#__PURE__*/_jsx(\"p\",{className:\"emotion-dashboard-empty\",children:\"Cargando historial...\"}):filteredHistoryRecords.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"emotion-dashboard-empty\",children:activeEmotion==='all'?'No hay registros almacenados aún.':\"No hay coincidencias para \".concat(activeEmotionLabel,\" en el historial.\")}):/*#__PURE__*/_jsx(\"div\",{className:\"emotion-history-grid\",children:filteredHistoryRecords.map(item=>/*#__PURE__*/_jsx(MediaResultCard,{item:item},\"history-\".concat(item.id)))})]})]});}export default Dashboard;","map":{"version":3,"names":["useCallback","useEffect","useMemo","useState","MediaResultCard","StatCard","fetchMediaHistory","fetchModelMetadata","jsx","_jsx","jsxs","_jsxs","HERO_TITLE","HERO_SUBTITLE","ALL_EMOTIONS_LABEL","EMOTION_TRANSLATIONS","angry","disgust","fear","happy","neutral","sad","surprise","getEmotionLabel","label","key","toString","trim","toLowerCase","Dashboard","_filteredHistoryRecor","_overviewPool$","_stats$emotionCounter","overviewPool","setOverviewPool","latestResults","setLatestResults","history","setHistory","activeEmotion","setActiveEmotion","availableEmotions","setAvailableEmotions","modelLabels","setModelLabels","historyLoading","setHistoryLoading","error","setError","loadOverview","_response$filters","response","limit","items","slice","filters","available_emotions","loadError","_loadError$response","_loadError$response$d","data","message","loadMetadata","metadata","labels","metadataError","console","loadHistory","_response$filters2","emotion","_loadError$response2","_loadError$response2$","stats","total","length","emotionCounter","reduce","acc","item","dominant_emotion","filteredOverview","filter","filteredLatestResults","featuredLatestResults","filteredHistoryRecords","averageConfidence","confidence","lastUpdated","created_at","emotionSnapshots","snapshotMap","Map","forEach","snapshot_url","has","set","activeEmotionLabel","heroDescription","concat","activeEmotionCount","activeEmotionCountLabel","historyBadgeLabel","handleEmotionSelect","summaryCards","value","toFixed","Object","keys","Date","toLocaleTimeString","className","children","map","_ref","type","onClick","entries","_ref2","en","es","id"],"sources":["C:/Users/Loq/Desktop/gatoportafolio/EmocionesDos - versioncuatroedit01 - 100% funcional - vedit/SIMPACeditDos/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import { useCallback, useEffect, useMemo, useState } from 'react';\r\n\r\nimport MediaResultCard from '../components/MediaResultCard.jsx';\r\nimport StatCard from '../components/StatCard.jsx';\r\nimport { fetchMediaHistory, fetchModelMetadata } from '../services/mediaService.js';\r\n\r\nconst HERO_TITLE = 'Panel maestro de emociones';\r\nconst HERO_SUBTITLE = 'Explora cómo se comportan las emociones detectadas y filtra los registros según el sentimiento dominante.';\r\nconst ALL_EMOTIONS_LABEL = 'Todas las emociones';\r\nconst EMOTION_TRANSLATIONS = {\r\n  angry: 'Enojo',\r\n  disgust: 'Desagrado',\r\n  fear: 'Miedo',\r\n  happy: 'Felicidad',\r\n  neutral: 'Neutral',\r\n  sad: 'Tristeza',\r\n  surprise: 'Sorpresa',\r\n};\r\n\r\nconst getEmotionLabel = (label) => {\r\n  if (!label) {\r\n    return '';\r\n  }\r\n  const key = label.toString().trim().toLowerCase();\r\n  return EMOTION_TRANSLATIONS[key] || label;\r\n};\r\n\r\n\r\n\r\nfunction Dashboard() {\r\n  const [overviewPool, setOverviewPool] = useState([]);\r\n  const [latestResults, setLatestResults] = useState([]);\r\n  const [history, setHistory] = useState([]);\r\n  const [activeEmotion, setActiveEmotion] = useState('all');\r\n  const [availableEmotions, setAvailableEmotions] = useState([]);\r\n  const [modelLabels, setModelLabels] = useState([]);\r\n  const [historyLoading, setHistoryLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const loadOverview = useCallback(async () => {\r\n    try {\r\n      const response = await fetchMediaHistory({ limit: 30 });\r\n      const items = response.items || [];\r\n      setOverviewPool(items);\r\n      setLatestResults(items.slice(0, 4));\r\n      setAvailableEmotions(response.filters?.available_emotions || []);\r\n    } catch (loadError) {\r\n      setError(loadError.response?.data?.message || 'No se pudo cargar el dashboard de emociones.');\r\n    }\r\n  }, []);\r\n\r\n  const loadMetadata = useCallback(async () => {\r\n    try {\r\n      const metadata = await fetchModelMetadata();\r\n      setModelLabels(metadata.labels || []);\r\n    } catch (metadataError) {\r\n      console.error('No se pudo obtener etiquetas del modelo', metadataError);\r\n    }\r\n  }, []);\r\n\r\n  const loadHistory = useCallback(async () => {\r\n    setHistoryLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await fetchMediaHistory({\r\n        limit: 18,\r\n        emotion: activeEmotion,\r\n      });\r\n      setHistory(response.items || []);\r\n      setAvailableEmotions(response.filters?.available_emotions || []);\r\n    } catch (loadError) {\r\n      setError(loadError.response?.data?.message || 'No se pudo filtrar el historial.');\r\n    } finally {\r\n      setHistoryLoading(false);\r\n    }\r\n  }, [activeEmotion]);\r\n\r\n  useEffect(() => {\r\n    loadOverview();\r\n    loadMetadata();\r\n  }, [loadOverview, loadMetadata]);\r\n\r\n  useEffect(() => {\r\n    loadHistory();\r\n  }, [loadHistory]);\r\n\r\n\r\n\r\n  const stats = useMemo(() => {\r\n    const total = overviewPool.length;\r\n    const emotionCounter = overviewPool.reduce((acc, item) => {\r\n      if (!item.dominant_emotion) {\r\n        return acc;\r\n      }\r\n      const key = item.dominant_emotion;\r\n      acc[key] = (acc[key] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n    return {\r\n      total,\r\n      emotionCounter,\r\n    };\r\n  }, [overviewPool]);\r\n\r\n  const filteredOverview = useMemo(() => {\r\n    if (activeEmotion === 'all') {\r\n      return overviewPool;\r\n    }\r\n    return overviewPool.filter((item) => {\r\n      if (!item.dominant_emotion) return false;\r\n      return item.dominant_emotion.toLowerCase() === activeEmotion.toLowerCase();\r\n    });\r\n  }, [overviewPool, activeEmotion]);\r\n\r\n  const filteredLatestResults = useMemo(() => {\r\n    if (activeEmotion === 'all') {\r\n      return latestResults;\r\n    }\r\n    return latestResults.filter((item) => {\r\n      if (!item.dominant_emotion) return false;\r\n      return item.dominant_emotion.toLowerCase() === activeEmotion.toLowerCase();\r\n    });\r\n  }, [latestResults, activeEmotion]);\r\n\r\n  const featuredLatestResults = filteredLatestResults.slice(0, 2);\r\n\r\n  const filteredHistoryRecords = useMemo(() => {\r\n    if (activeEmotion === 'all') {\r\n      return history;\r\n    }\r\n    return history.filter((item) => {\r\n      if (!item.dominant_emotion) return false;\r\n      return item.dominant_emotion.toLowerCase() === activeEmotion.toLowerCase();\r\n    });\r\n  }, [history, activeEmotion]);\r\n\r\n  const averageConfidence = filteredOverview.length\r\n    ? filteredOverview.reduce((acc, item) => acc + (item.confidence || 0), 0) / filteredOverview.length\r\n    : 0;\r\n\r\n  const lastUpdated = filteredHistoryRecords[0]?.created_at || overviewPool[0]?.created_at;\r\n\r\n  const emotionSnapshots = useMemo(() => {\r\n    const snapshotMap = new Map();\r\n    [...overviewPool, ...history].forEach((item) => {\r\n      if (!item?.dominant_emotion || !item.snapshot_url) {\r\n        return;\r\n      }\r\n      if (!snapshotMap.has(item.dominant_emotion)) {\r\n        snapshotMap.set(item.dominant_emotion, item.snapshot_url);\r\n      }\r\n    });\r\n    return snapshotMap;\r\n  }, [overviewPool, history]);\r\n\r\n  const activeEmotionLabel = activeEmotion === 'all' ? ALL_EMOTIONS_LABEL : getEmotionLabel(activeEmotion);\r\n  const heroDescription = activeEmotion === 'all'\r\n    ? HERO_SUBTITLE\r\n    : `Mostrando capturas clasificadas como ${activeEmotionLabel}.`;\r\n  const activeEmotionCount = activeEmotion === 'all'\r\n    ? stats.total\r\n    : stats.emotionCounter?.[activeEmotion] || 0;\r\n  const activeEmotionCountLabel = activeEmotionCount > 0\r\n    ? `${activeEmotionCount} ${activeEmotionCount === 1 ? 'captura' : 'capturas'}`\r\n    : 'Sin capturas registradas';\r\n  const historyBadgeLabel = historyLoading\r\n    ? 'Actualizando…'\r\n    : `${filteredHistoryRecords.length} ${filteredHistoryRecords.length === 1 ? 'registro' : 'registros'}${activeEmotion !== 'all' ? ` · ${activeEmotionLabel}` : ''}`;\r\n\r\n  const handleEmotionSelect = useCallback((label) => {\r\n    setActiveEmotion(label);\r\n  }, []);\r\n\r\n  const summaryCards = [\r\n    { label: 'Muestras registradas', value: stats.total },\r\n    { label: 'Promedio de confianza', value: `${(averageConfidence * 100).toFixed(1)}%` },\r\n    { label: 'Emociones presentes', value: Object.keys(stats.emotionCounter || {}).length },\r\n    { label: 'Última actualización', value: lastUpdated ? new Date(lastUpdated).toLocaleTimeString() : 'N/D' },\r\n  ];\r\n\r\n  return (\r\n    <section className=\"app-container emotion-dashboard\">\r\n      <div className=\"emotion-hero card\">\r\n        <div className=\"emotion-hero-head\">\r\n          <div>\r\n            <p className=\"page-subtitle\">Dashboard emociones</p>\r\n            <h1>{HERO_TITLE}</h1>\r\n            <p>{heroDescription}</p>\r\n          </div>\r\n          <div className=\"emotion-hero-meta\">\r\n            <span>{activeEmotionLabel}</span>\r\n            <small>{activeEmotionCountLabel}</small>\r\n          </div>\r\n        </div>\r\n        <div className=\"emotion-summary-grid\">\r\n          {summaryCards.map(({ label, value }) => (\r\n            <StatCard key={label} label={label} value={value} />\r\n          ))}\r\n        </div>\r\n        <div className=\"emotion-cascade-buttons\">\r\n          <button\r\n            type=\"button\"\r\n            className={`emotion-preview-card all${activeEmotion === 'all' ? ' is-active' : ''}`}\r\n            onClick={() => handleEmotionSelect('all')}\r\n          >\r\n            Todas\r\n          </button>\r\n          {Object.entries(EMOTION_TRANSLATIONS).map(([en, es]) => (\r\n            <button\r\n              key={en}\r\n              type=\"button\"\r\n              className={`emotion-preview-card ${en}${activeEmotion === en ? ' is-active' : ''}`}\r\n              onClick={() => handleEmotionSelect(en)}\r\n            >\r\n              {es}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"emotion-panels-grid\">\r\n        <div className=\"emotion-panel card\">\r\n          <div className=\"emotion-panel-header\">\r\n            <div>\r\n              <p className=\"emotion-panel-kicker\">Pulso inmediato</p>\r\n              <h2 className=\"emotion-section-title\">Últimas capturas filtradas</h2>\r\n            </div>\r\n            <span className=\"emotion-chip chip-live\">En vivo</span>\r\n          </div>\r\n          {filteredLatestResults.length === 0 ? (\r\n            <p className=\"emotion-dashboard-empty\">\r\n              {activeEmotion === 'all'\r\n                ? 'Aún no hay registros recientes.'\r\n                : `No hay registros recientes para ${activeEmotionLabel}.`}\r\n            </p>\r\n          ) : (\r\n            <div className=\"emotion-latest-grid\">\r\n              {featuredLatestResults.map((item) => (\r\n                <MediaResultCard key={`latest-${item.id}`} item={item} />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"emotion-panel card\">\r\n        <div className=\"emotion-panel-header\">\r\n          <div>\r\n            <p className=\"emotion-panel-kicker\">Historial almacenado</p>\r\n            <h2 className=\"emotion-section-title\">Analíticas filtradas</h2>\r\n          </div>\r\n          <span className=\"emotion-chip\">{historyBadgeLabel}</span>\r\n        </div>\r\n        {error && <p className=\"media-error\">{error}</p>}\r\n        {historyLoading ? (\r\n          <p className=\"emotion-dashboard-empty\">Cargando historial...</p>\r\n        ) : filteredHistoryRecords.length === 0 ? (\r\n          <p className=\"emotion-dashboard-empty\">\r\n            {activeEmotion === 'all'\r\n              ? 'No hay registros almacenados aún.'\r\n              : `No hay coincidencias para ${activeEmotionLabel} en el historial.`}\r\n          </p>\r\n        ) : (\r\n          <div className=\"emotion-history-grid\">\r\n            {filteredHistoryRecords.map((item) => (\r\n              <MediaResultCard key={`history-${item.id}`} item={item} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
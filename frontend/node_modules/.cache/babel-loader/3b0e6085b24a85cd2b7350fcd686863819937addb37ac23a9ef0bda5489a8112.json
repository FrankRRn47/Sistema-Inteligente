{"ast":null,"code":"import api from './api.js';\nfunction sendMultipart(endpoint, file, channel = 'manual', extraFields = {}) {\n  const formData = new FormData();\n  formData.append('file', file);\n  formData.append('channel', channel);\n  Object.entries(extraFields).forEach(([key, value]) => {\n    if (value !== undefined && value !== null && value !== '') {\n      formData.append(key, value);\n    }\n  });\n  return api.post(endpoint, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n}\nexport async function analyzeImageUpload(file, channel = 'manual') {\n  const {\n    data\n  } = await sendMultipart('/analyze-imagen', file, channel);\n  return data;\n}\nexport async function analyzeVideoUpload(file, channel = 'manual') {\n  const {\n    data\n  } = await sendMultipart('/analyze-video', file, channel);\n  return data;\n}\nexport async function analyzeWebcamUpload(file, channel = 'webcam') {\n  const {\n    data\n  } = await sendMultipart('/analyze-webcam', file, channel);\n  return data;\n}\nexport async function analyzeWebcamFrame(file, channel = 'webcam-live', sessionId) {\n  const extraFields = sessionId ? {\n    session_id: sessionId\n  } : {};\n  const {\n    data\n  } = await sendMultipart('/analyze-webcam-frame', file, channel, extraFields);\n  return data;\n}\nexport async function startLiveSession(channel = 'webcam-live') {\n  const {\n    data\n  } = await api.post('/media/live-session/start', {\n    channel\n  });\n  return data;\n}\nexport async function stopLiveSession(sessionId) {\n  const {\n    data\n  } = await api.post('/media/live-session/stop', {\n    session_id: sessionId\n  });\n  return data;\n}\nexport async function fetchModelMetadata() {\n  const {\n    data\n  } = await api.get('/media/model-metadata');\n  return data;\n}\nexport async function fetchMediaHistory(limit = 12) {\n  const {\n    data\n  } = await api.get('/media/records', {\n    params: {\n      limit\n    }\n  });\n  return data;\n}","map":{"version":3,"names":["api","sendMultipart","endpoint","file","channel","extraFields","formData","FormData","append","Object","entries","forEach","key","value","undefined","post","headers","analyzeImageUpload","data","analyzeVideoUpload","analyzeWebcamUpload","analyzeWebcamFrame","sessionId","session_id","startLiveSession","stopLiveSession","fetchModelMetadata","get","fetchMediaHistory","limit","params"],"sources":["C:/Users/Loq/Desktop/gatoportafolio/EmocionesDos - versiontres/SIMPAC-2023-299/frontend/src/services/mediaService.js"],"sourcesContent":["import api from './api.js';\r\n\r\nfunction sendMultipart(endpoint, file, channel = 'manual', extraFields = {}) {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  formData.append('channel', channel);\r\n  Object.entries(extraFields).forEach(([key, value]) => {\r\n    if (value !== undefined && value !== null && value !== '') {\r\n      formData.append(key, value);\r\n    }\r\n  });\r\n  return api.post(endpoint, formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n  });\r\n}\r\n\r\nexport async function analyzeImageUpload(file, channel = 'manual') {\r\n  const { data } = await sendMultipart('/analyze-imagen', file, channel);\r\n  return data;\r\n}\r\n\r\nexport async function analyzeVideoUpload(file, channel = 'manual') {\r\n  const { data } = await sendMultipart('/analyze-video', file, channel);\r\n  return data;\r\n}\r\n\r\nexport async function analyzeWebcamUpload(file, channel = 'webcam') {\r\n  const { data } = await sendMultipart('/analyze-webcam', file, channel);\r\n  return data;\r\n}\r\n\r\nexport async function analyzeWebcamFrame(file, channel = 'webcam-live', sessionId) {\r\n  const extraFields = sessionId ? { session_id: sessionId } : {};\r\n  const { data } = await sendMultipart('/analyze-webcam-frame', file, channel, extraFields);\r\n  return data;\r\n}\r\n\r\nexport async function startLiveSession(channel = 'webcam-live') {\r\n  const { data } = await api.post('/media/live-session/start', { channel });\r\n  return data;\r\n}\r\n\r\nexport async function stopLiveSession(sessionId) {\r\n  const { data } = await api.post('/media/live-session/stop', { session_id: sessionId });\r\n  return data;\r\n}\r\n\r\nexport async function fetchModelMetadata() {\r\n  const { data } = await api.get('/media/model-metadata');\r\n  return data;\r\n}\r\n\r\nexport async function fetchMediaHistory(limit = 12) {\r\n  const { data } = await api.get('/media/records', { params: { limit } });\r\n  return data;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
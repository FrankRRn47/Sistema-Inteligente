{"ast":null,"code":"import{useCallback,useEffect,useMemo,useRef,useState}from'react';import MediaResultCard from'../components/MediaResultCard.jsx';import StatCard from'../components/StatCard.jsx';import useSnapshotPreview from'../hooks/useSnapshotPreview.js';import{fetchMediaHistory,fetchModelMetadata}from'../services/mediaService.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HERO_TITLE='Panel maestro de emociones';const HERO_SUBTITLE='Explora cómo se comportan las emociones detectadas y filtra los registros según el sentimiento dominante.';const ALL_EMOTIONS_LABEL='Todas las emociones';const EMOTION_TRANSLATIONS={angry:'Enojo',disgust:'Desagrado',fear:'Miedo',happy:'Felicidad',neutral:'Neutral',sad:'Tristeza',surprise:'Sorpresa'};const getEmotionLabel=label=>{if(!label){return'';}const key=label.toString().trim().toLowerCase();return EMOTION_TRANSLATIONS[key]||label;};function EmotionPreviewFilter(_ref){let{label,displayLabel,total,snapshot,isActive,onSelect,className='',showTotal=true}=_ref;const{previewUrl,fallbackUrl,state}=useSnapshotPreview(snapshot);const imageUrl=previewUrl||fallbackUrl;const friendlyLabel=displayLabel||label;const placeholderLetter=friendlyLabel?friendlyLabel.substring(0,1).toUpperCase():'?';const totalLabel=total>0?\"\".concat(total,\" \").concat(total===1?'captura':'capturas'):'Sin capturas';return/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"emotion-preview-card \".concat(isActive?'is-active':'',\" \").concat(className).trim(),onClick:onSelect,children:[/*#__PURE__*/_jsx(\"span\",{className:\"emotion-preview-thumb \".concat(state==='loading'?'is-loading':'',\" \").concat(imageUrl?'':'is-placeholder'),style:imageUrl?{backgroundImage:\"url(\".concat(imageUrl,\")\")}:undefined,children:!imageUrl&&placeholderLetter}),/*#__PURE__*/_jsxs(\"span\",{className:\"emotion-preview-label\",children:[/*#__PURE__*/_jsx(\"strong\",{children:friendlyLabel}),showTotal?/*#__PURE__*/_jsx(\"small\",{children:totalLabel}):null]})]});}function Dashboard(){var _filteredHistoryRecor,_overviewPool$,_stats$emotionCounter;const[overviewPool,setOverviewPool]=useState([]);const[latestResults,setLatestResults]=useState([]);const[history,setHistory]=useState([]);const[activeEmotion,setActiveEmotion]=useState('all');const[selectorOpen,setSelectorOpen]=useState(false);const[availableEmotions,setAvailableEmotions]=useState([]);const[modelLabels,setModelLabels]=useState([]);const[historyLoading,setHistoryLoading]=useState(false);const[error,setError]=useState('');const selectorRef=useRef(null);const loadOverview=useCallback(async()=>{try{var _response$filters;const response=await fetchMediaHistory({limit:30});const items=response.items||[];setOverviewPool(items);setLatestResults(items.slice(0,4));setAvailableEmotions(((_response$filters=response.filters)===null||_response$filters===void 0?void 0:_response$filters.available_emotions)||[]);}catch(loadError){var _loadError$response,_loadError$response$d;setError(((_loadError$response=loadError.response)===null||_loadError$response===void 0?void 0:(_loadError$response$d=_loadError$response.data)===null||_loadError$response$d===void 0?void 0:_loadError$response$d.message)||'No se pudo cargar el dashboard de emociones.');}},[]);const loadMetadata=useCallback(async()=>{try{const metadata=await fetchModelMetadata();setModelLabels(metadata.labels||[]);}catch(metadataError){console.error('No se pudo obtener etiquetas del modelo',metadataError);}},[]);const loadHistory=useCallback(async()=>{setHistoryLoading(true);setError('');try{var _response$filters2;const response=await fetchMediaHistory({limit:18,emotion:activeEmotion});setHistory(response.items||[]);setAvailableEmotions(((_response$filters2=response.filters)===null||_response$filters2===void 0?void 0:_response$filters2.available_emotions)||[]);}catch(loadError){var _loadError$response2,_loadError$response2$;setError(((_loadError$response2=loadError.response)===null||_loadError$response2===void 0?void 0:(_loadError$response2$=_loadError$response2.data)===null||_loadError$response2$===void 0?void 0:_loadError$response2$.message)||'No se pudo filtrar el historial.');}finally{setHistoryLoading(false);}},[activeEmotion]);useEffect(()=>{loadOverview();loadMetadata();},[loadOverview,loadMetadata]);useEffect(()=>{loadHistory();},[loadHistory]);useEffect(()=>{const handleClickOutside=event=>{if(!selectorRef.current||selectorRef.current.contains(event.target)){return;}setSelectorOpen(false);};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const stats=useMemo(()=>{const total=overviewPool.length;const emotionCounter=overviewPool.reduce((acc,item)=>{if(!item.dominant_emotion){return acc;}const key=item.dominant_emotion;acc[key]=(acc[key]||0)+1;return acc;},{});return{total,emotionCounter};},[overviewPool]);const filteredOverview=useMemo(()=>{if(activeEmotion==='all'){return overviewPool;}return overviewPool.filter(item=>item.dominant_emotion===activeEmotion);},[overviewPool,activeEmotion]);const filteredLatestResults=useMemo(()=>{if(activeEmotion==='all'){return latestResults;}return latestResults.filter(item=>item.dominant_emotion===activeEmotion);},[latestResults,activeEmotion]);const featuredLatestResults=filteredLatestResults.slice(0,2);const filteredHistoryRecords=useMemo(()=>{if(activeEmotion==='all'){return history;}return history.filter(item=>item.dominant_emotion===activeEmotion);},[history,activeEmotion]);const averageConfidence=filteredOverview.length?filteredOverview.reduce((acc,item)=>acc+(item.confidence||0),0)/filteredOverview.length:0;const lastUpdated=((_filteredHistoryRecor=filteredHistoryRecords[0])===null||_filteredHistoryRecor===void 0?void 0:_filteredHistoryRecor.created_at)||((_overviewPool$=overviewPool[0])===null||_overviewPool$===void 0?void 0:_overviewPool$.created_at);const emotionSnapshots=useMemo(()=>{const snapshotMap=new Map();[...overviewPool,...history].forEach(item=>{if(!(item!==null&&item!==void 0&&item.dominant_emotion)||!item.snapshot_url){return;}if(!snapshotMap.has(item.dominant_emotion)){snapshotMap.set(item.dominant_emotion,item.snapshot_url);}});return snapshotMap;},[overviewPool,history]);const activeEmotionLabel=activeEmotion==='all'?ALL_EMOTIONS_LABEL:getEmotionLabel(activeEmotion);const heroDescription=activeEmotion==='all'?HERO_SUBTITLE:\"Mostrando capturas clasificadas como \".concat(activeEmotionLabel,\".\");const activeEmotionCount=activeEmotion==='all'?stats.total:((_stats$emotionCounter=stats.emotionCounter)===null||_stats$emotionCounter===void 0?void 0:_stats$emotionCounter[activeEmotion])||0;const activeEmotionCountLabel=activeEmotionCount>0?\"\".concat(activeEmotionCount,\" \").concat(activeEmotionCount===1?'captura':'capturas'):'Sin capturas registradas';const historyBadgeLabel=historyLoading?'Actualizando…':\"\".concat(filteredHistoryRecords.length,\" \").concat(filteredHistoryRecords.length===1?'registro':'registros').concat(activeEmotion!=='all'?\" \\xB7 \".concat(activeEmotionLabel):'');const emotionBadges=(modelLabels.length>0?modelLabels:Array.from(new Set([...availableEmotions,...Object.keys(stats.emotionCounter||{})]))).filter(Boolean).map(label=>{var _stats$emotionCounter2;return{label,displayLabel:getEmotionLabel(label),total:((_stats$emotionCounter2=stats.emotionCounter)===null||_stats$emotionCounter2===void 0?void 0:_stats$emotionCounter2[label])||0,snapshot:emotionSnapshots.get(label)||null};});const handleEmotionSelect=useCallback(label=>{setActiveEmotion(label);setSelectorOpen(false);},[]);const summaryCards=[{label:'Muestras registradas',value:stats.total},{label:'Promedio de confianza',value:\"\".concat((averageConfidence*100).toFixed(1),\"%\")},{label:'Emociones presentes',value:Object.keys(stats.emotionCounter||{}).length},{label:'Última actualización',value:lastUpdated?new Date(lastUpdated).toLocaleTimeString():'N/D'}];return/*#__PURE__*/_jsxs(\"section\",{className:\"app-container emotion-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-hero card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-hero-head\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Dashboard emociones\"}),/*#__PURE__*/_jsx(\"h1\",{children:HERO_TITLE}),/*#__PURE__*/_jsx(\"p\",{children:heroDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-hero-meta\",children:[/*#__PURE__*/_jsx(\"span\",{children:activeEmotionLabel}),/*#__PURE__*/_jsx(\"small\",{children:activeEmotionCountLabel})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion-summary-grid\",children:summaryCards.map(_ref2=>{let{label,value}=_ref2;return/*#__PURE__*/_jsx(StatCard,{label:label,value:value},label);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-cascade-buttons\",style:{display:'flex',gap:'1rem',flexWrap:'wrap',margin:'2rem 0 1.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"emotion-preview-card all\".concat(activeEmotion==='all'?' is-active':''),style:{minWidth:120,minHeight:48,fontWeight:600,fontSize:'1rem',cursor:'pointer'},onClick:()=>handleEmotionSelect('all'),children:\"Todas\"}),['angry','disgust','fear','happy','neutral','sad','surprise'].map(emotion=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"emotion-preview-card \".concat(emotion).concat(activeEmotion===emotion?' is-active':''),style:{minWidth:120,minHeight:48,fontWeight:600,fontSize:'1rem',cursor:'pointer',textTransform:'capitalize'},onClick:()=>handleEmotionSelect(emotion),children:getEmotionLabel(emotion)},emotion))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion-panels-grid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"emotion-panel-kicker\",children:\"Pulso inmediato\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"emotion-section-title\",children:\"\\xDAltimas capturas filtradas\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"emotion-chip chip-live\",children:\"En vivo\"})]}),filteredLatestResults.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"emotion-dashboard-empty\",children:activeEmotion==='all'?'Aún no hay registros recientes.':\"No hay registros recientes para \".concat(activeEmotionLabel,\".\")}):/*#__PURE__*/_jsx(\"div\",{className:\"emotion-latest-grid\",children:featuredLatestResults.map(item=>/*#__PURE__*/_jsx(MediaResultCard,{item:item},\"latest-\".concat(item.id)))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"emotion-panel-kicker\",children:\"Historial almacenado\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"emotion-section-title\",children:\"Anal\\xEDticas filtradas\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"emotion-chip\",children:historyBadgeLabel})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"media-error\",children:error}),historyLoading?/*#__PURE__*/_jsx(\"p\",{className:\"emotion-dashboard-empty\",children:\"Cargando historial...\"}):filteredHistoryRecords.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"emotion-dashboard-empty\",children:activeEmotion==='all'?'No hay registros almacenados aún.':\"No hay coincidencias para \".concat(activeEmotionLabel,\" en el historial.\")}):/*#__PURE__*/_jsx(\"div\",{className:\"emotion-history-grid\",children:filteredHistoryRecords.map(item=>/*#__PURE__*/_jsx(MediaResultCard,{item:item},\"history-\".concat(item.id)))})]})]});}export default Dashboard;","map":{"version":3,"names":["useCallback","useEffect","useMemo","useRef","useState","MediaResultCard","StatCard","useSnapshotPreview","fetchMediaHistory","fetchModelMetadata","jsx","_jsx","jsxs","_jsxs","HERO_TITLE","HERO_SUBTITLE","ALL_EMOTIONS_LABEL","EMOTION_TRANSLATIONS","angry","disgust","fear","happy","neutral","sad","surprise","getEmotionLabel","label","key","toString","trim","toLowerCase","EmotionPreviewFilter","_ref","displayLabel","total","snapshot","isActive","onSelect","className","showTotal","previewUrl","fallbackUrl","state","imageUrl","friendlyLabel","placeholderLetter","substring","toUpperCase","totalLabel","concat","type","onClick","children","style","backgroundImage","undefined","Dashboard","_filteredHistoryRecor","_overviewPool$","_stats$emotionCounter","overviewPool","setOverviewPool","latestResults","setLatestResults","history","setHistory","activeEmotion","setActiveEmotion","selectorOpen","setSelectorOpen","availableEmotions","setAvailableEmotions","modelLabels","setModelLabels","historyLoading","setHistoryLoading","error","setError","selectorRef","loadOverview","_response$filters","response","limit","items","slice","filters","available_emotions","loadError","_loadError$response","_loadError$response$d","data","message","loadMetadata","metadata","labels","metadataError","console","loadHistory","_response$filters2","emotion","_loadError$response2","_loadError$response2$","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","stats","length","emotionCounter","reduce","acc","item","dominant_emotion","filteredOverview","filter","filteredLatestResults","featuredLatestResults","filteredHistoryRecords","averageConfidence","confidence","lastUpdated","created_at","emotionSnapshots","snapshotMap","Map","forEach","snapshot_url","has","set","activeEmotionLabel","heroDescription","activeEmotionCount","activeEmotionCountLabel","historyBadgeLabel","emotionBadges","Array","from","Set","Object","keys","Boolean","map","_stats$emotionCounter2","get","handleEmotionSelect","summaryCards","value","toFixed","Date","toLocaleTimeString","_ref2","display","gap","flexWrap","margin","minWidth","minHeight","fontWeight","fontSize","cursor","textTransform","id"],"sources":["C:/Users/Loq/Desktop/gatoportafolio/EmocionesDos - versioncuatroedit01 - 100% funcional - vedit/SIMPACeditDos/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\n\r\nimport MediaResultCard from '../components/MediaResultCard.jsx';\r\nimport StatCard from '../components/StatCard.jsx';\r\nimport useSnapshotPreview from '../hooks/useSnapshotPreview.js';\r\nimport { fetchMediaHistory, fetchModelMetadata } from '../services/mediaService.js';\r\n\r\nconst HERO_TITLE = 'Panel maestro de emociones';\r\nconst HERO_SUBTITLE = 'Explora cómo se comportan las emociones detectadas y filtra los registros según el sentimiento dominante.';\r\nconst ALL_EMOTIONS_LABEL = 'Todas las emociones';\r\nconst EMOTION_TRANSLATIONS = {\r\n  angry: 'Enojo',\r\n  disgust: 'Desagrado',\r\n  fear: 'Miedo',\r\n  happy: 'Felicidad',\r\n  neutral: 'Neutral',\r\n  sad: 'Tristeza',\r\n  surprise: 'Sorpresa',\r\n};\r\n\r\nconst getEmotionLabel = (label) => {\r\n  if (!label) {\r\n    return '';\r\n  }\r\n  const key = label.toString().trim().toLowerCase();\r\n  return EMOTION_TRANSLATIONS[key] || label;\r\n};\r\n\r\nfunction EmotionPreviewFilter({\r\n  label,\r\n  displayLabel,\r\n  total,\r\n  snapshot,\r\n  isActive,\r\n  onSelect,\r\n  className = '',\r\n  showTotal = true,\r\n}) {\r\n  const { previewUrl, fallbackUrl, state } = useSnapshotPreview(snapshot);\r\n  const imageUrl = previewUrl || fallbackUrl;\r\n  const friendlyLabel = displayLabel || label;\r\n  const placeholderLetter = friendlyLabel ? friendlyLabel.substring(0, 1).toUpperCase() : '?';\r\n  const totalLabel = total > 0 ? `${total} ${total === 1 ? 'captura' : 'capturas'}` : 'Sin capturas';\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={`emotion-preview-card ${isActive ? 'is-active' : ''} ${className}`.trim()}\r\n      onClick={onSelect}\r\n    >\r\n      <span\r\n        className={`emotion-preview-thumb ${state === 'loading' ? 'is-loading' : ''} ${imageUrl ? '' : 'is-placeholder'}`}\r\n        style={imageUrl ? { backgroundImage: `url(${imageUrl})` } : undefined}\r\n      >\r\n        {!imageUrl && placeholderLetter}\r\n      </span>\r\n      <span className=\"emotion-preview-label\">\r\n        <strong>{friendlyLabel}</strong>\r\n        {showTotal ? <small>{totalLabel}</small> : null}\r\n      </span>\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction Dashboard() {\r\n  const [overviewPool, setOverviewPool] = useState([]);\r\n  const [latestResults, setLatestResults] = useState([]);\r\n  const [history, setHistory] = useState([]);\r\n  const [activeEmotion, setActiveEmotion] = useState('all');\r\n  const [selectorOpen, setSelectorOpen] = useState(false);\r\n  const [availableEmotions, setAvailableEmotions] = useState([]);\r\n  const [modelLabels, setModelLabels] = useState([]);\r\n  const [historyLoading, setHistoryLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const selectorRef = useRef(null);\r\n\r\n  const loadOverview = useCallback(async () => {\r\n    try {\r\n      const response = await fetchMediaHistory({ limit: 30 });\r\n      const items = response.items || [];\r\n      setOverviewPool(items);\r\n      setLatestResults(items.slice(0, 4));\r\n      setAvailableEmotions(response.filters?.available_emotions || []);\r\n    } catch (loadError) {\r\n      setError(loadError.response?.data?.message || 'No se pudo cargar el dashboard de emociones.');\r\n    }\r\n  }, []);\r\n\r\n  const loadMetadata = useCallback(async () => {\r\n    try {\r\n      const metadata = await fetchModelMetadata();\r\n      setModelLabels(metadata.labels || []);\r\n    } catch (metadataError) {\r\n      console.error('No se pudo obtener etiquetas del modelo', metadataError);\r\n    }\r\n  }, []);\r\n\r\n  const loadHistory = useCallback(async () => {\r\n    setHistoryLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await fetchMediaHistory({\r\n        limit: 18,\r\n        emotion: activeEmotion,\r\n      });\r\n      setHistory(response.items || []);\r\n      setAvailableEmotions(response.filters?.available_emotions || []);\r\n    } catch (loadError) {\r\n      setError(loadError.response?.data?.message || 'No se pudo filtrar el historial.');\r\n    } finally {\r\n      setHistoryLoading(false);\r\n    }\r\n  }, [activeEmotion]);\r\n\r\n  useEffect(() => {\r\n    loadOverview();\r\n    loadMetadata();\r\n  }, [loadOverview, loadMetadata]);\r\n\r\n  useEffect(() => {\r\n    loadHistory();\r\n  }, [loadHistory]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (!selectorRef.current || selectorRef.current.contains(event.target)) {\r\n        return;\r\n      }\r\n      setSelectorOpen(false);\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const stats = useMemo(() => {\r\n    const total = overviewPool.length;\r\n    const emotionCounter = overviewPool.reduce((acc, item) => {\r\n      if (!item.dominant_emotion) {\r\n        return acc;\r\n      }\r\n      const key = item.dominant_emotion;\r\n      acc[key] = (acc[key] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n    return {\r\n      total,\r\n      emotionCounter,\r\n    };\r\n  }, [overviewPool]);\r\n\r\n  const filteredOverview = useMemo(() => {\r\n    if (activeEmotion === 'all') {\r\n      return overviewPool;\r\n    }\r\n    return overviewPool.filter((item) => item.dominant_emotion === activeEmotion);\r\n  }, [overviewPool, activeEmotion]);\r\n\r\n  const filteredLatestResults = useMemo(() => {\r\n    if (activeEmotion === 'all') {\r\n      return latestResults;\r\n    }\r\n    return latestResults.filter((item) => item.dominant_emotion === activeEmotion);\r\n  }, [latestResults, activeEmotion]);\r\n\r\n  const featuredLatestResults = filteredLatestResults.slice(0, 2);\r\n\r\n  const filteredHistoryRecords = useMemo(() => {\r\n    if (activeEmotion === 'all') {\r\n      return history;\r\n    }\r\n    return history.filter((item) => item.dominant_emotion === activeEmotion);\r\n  }, [history, activeEmotion]);\r\n\r\n  const averageConfidence = filteredOverview.length\r\n    ? filteredOverview.reduce((acc, item) => acc + (item.confidence || 0), 0) / filteredOverview.length\r\n    : 0;\r\n\r\n  const lastUpdated = filteredHistoryRecords[0]?.created_at || overviewPool[0]?.created_at;\r\n\r\n  const emotionSnapshots = useMemo(() => {\r\n    const snapshotMap = new Map();\r\n    [...overviewPool, ...history].forEach((item) => {\r\n      if (!item?.dominant_emotion || !item.snapshot_url) {\r\n        return;\r\n      }\r\n      if (!snapshotMap.has(item.dominant_emotion)) {\r\n        snapshotMap.set(item.dominant_emotion, item.snapshot_url);\r\n      }\r\n    });\r\n    return snapshotMap;\r\n  }, [overviewPool, history]);\r\n\r\n  const activeEmotionLabel = activeEmotion === 'all' ? ALL_EMOTIONS_LABEL : getEmotionLabel(activeEmotion);\r\n  const heroDescription = activeEmotion === 'all'\r\n    ? HERO_SUBTITLE\r\n    : `Mostrando capturas clasificadas como ${activeEmotionLabel}.`;\r\n  const activeEmotionCount = activeEmotion === 'all'\r\n    ? stats.total\r\n    : stats.emotionCounter?.[activeEmotion] || 0;\r\n  const activeEmotionCountLabel = activeEmotionCount > 0\r\n    ? `${activeEmotionCount} ${activeEmotionCount === 1 ? 'captura' : 'capturas'}`\r\n    : 'Sin capturas registradas';\r\n  const historyBadgeLabel = historyLoading\r\n    ? 'Actualizando…'\r\n    : `${filteredHistoryRecords.length} ${filteredHistoryRecords.length === 1 ? 'registro' : 'registros'}${activeEmotion !== 'all' ? ` · ${activeEmotionLabel}` : ''}`;\r\n\r\n  const emotionBadges = (modelLabels.length > 0\r\n    ? modelLabels\r\n    : Array.from(new Set([...availableEmotions, ...Object.keys(stats.emotionCounter || {})])))\r\n    .filter(Boolean)\r\n    .map((label) => ({\r\n      label,\r\n      displayLabel: getEmotionLabel(label),\r\n      total: stats.emotionCounter?.[label] || 0,\r\n      snapshot: emotionSnapshots.get(label) || null,\r\n    }));\r\n\r\n  const handleEmotionSelect = useCallback((label) => {\r\n    setActiveEmotion(label);\r\n    setSelectorOpen(false);\r\n  }, []);\r\n\r\n  const summaryCards = [\r\n    { label: 'Muestras registradas', value: stats.total },\r\n    { label: 'Promedio de confianza', value: `${(averageConfidence * 100).toFixed(1)}%` },\r\n    { label: 'Emociones presentes', value: Object.keys(stats.emotionCounter || {}).length },\r\n    { label: 'Última actualización', value: lastUpdated ? new Date(lastUpdated).toLocaleTimeString() : 'N/D' },\r\n  ];\r\n\r\n  return (\r\n    <section className=\"app-container emotion-dashboard\">\r\n      <div className=\"emotion-hero card\">\r\n        <div className=\"emotion-hero-head\">\r\n          <div>\r\n            <p className=\"page-subtitle\">Dashboard emociones</p>\r\n            <h1>{HERO_TITLE}</h1>\r\n            <p>{heroDescription}</p>\r\n          </div>\r\n          <div className=\"emotion-hero-meta\">\r\n            <span>{activeEmotionLabel}</span>\r\n            <small>{activeEmotionCountLabel}</small>\r\n          </div>\r\n        </div>\r\n        <div className=\"emotion-summary-grid\">\r\n          {summaryCards.map(({ label, value }) => (\r\n            <StatCard key={label} label={label} value={value} />\r\n          ))}\r\n        </div>\r\n        <div className=\"emotion-cascade-buttons\" style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap', margin: '2rem 0 1.5rem' }}>\r\n          <button\r\n            type=\"button\"\r\n            className={`emotion-preview-card all${activeEmotion === 'all' ? ' is-active' : ''}`}\r\n            style={{ minWidth: 120, minHeight: 48, fontWeight: 600, fontSize: '1rem', cursor: 'pointer' }}\r\n            onClick={() => handleEmotionSelect('all')}\r\n          >\r\n            Todas\r\n          </button>\r\n          {['angry', 'disgust', 'fear', 'happy', 'neutral', 'sad', 'surprise'].map((emotion) => (\r\n            <button\r\n              key={emotion}\r\n              type=\"button\"\r\n              className={`emotion-preview-card ${emotion}${activeEmotion === emotion ? ' is-active' : ''}`}\r\n              style={{ minWidth: 120, minHeight: 48, fontWeight: 600, fontSize: '1rem', cursor: 'pointer', textTransform: 'capitalize' }}\r\n              onClick={() => handleEmotionSelect(emotion)}\r\n            >\r\n              {getEmotionLabel(emotion)}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"emotion-panels-grid\">\r\n        <div className=\"emotion-panel card\">\r\n          <div className=\"emotion-panel-header\">\r\n            <div>\r\n              <p className=\"emotion-panel-kicker\">Pulso inmediato</p>\r\n              <h2 className=\"emotion-section-title\">Últimas capturas filtradas</h2>\r\n            </div>\r\n            <span className=\"emotion-chip chip-live\">En vivo</span>\r\n          </div>\r\n          {filteredLatestResults.length === 0 ? (\r\n            <p className=\"emotion-dashboard-empty\">\r\n              {activeEmotion === 'all'\r\n                ? 'Aún no hay registros recientes.'\r\n                : `No hay registros recientes para ${activeEmotionLabel}.`}\r\n            </p>\r\n          ) : (\r\n            <div className=\"emotion-latest-grid\">\r\n              {featuredLatestResults.map((item) => (\r\n                <MediaResultCard key={`latest-${item.id}`} item={item} />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"emotion-panel card\">\r\n        <div className=\"emotion-panel-header\">\r\n          <div>\r\n            <p className=\"emotion-panel-kicker\">Historial almacenado</p>\r\n            <h2 className=\"emotion-section-title\">Analíticas filtradas</h2>\r\n          </div>\r\n          <span className=\"emotion-chip\">{historyBadgeLabel}</span>\r\n        </div>\r\n        {error && <p className=\"media-error\">{error}</p>}\r\n        {historyLoading ? (\r\n          <p className=\"emotion-dashboard-empty\">Cargando historial...</p>\r\n        ) : filteredHistoryRecords.length === 0 ? (\r\n          <p className=\"emotion-dashboard-empty\">\r\n            {activeEmotion === 'all'\r\n              ? 'No hay registros almacenados aún.'\r\n              : `No hay coincidencias para ${activeEmotionLabel} en el historial.`}\r\n          </p>\r\n        ) : (\r\n          <div className=\"emotion-history-grid\">\r\n            {filteredHistoryRecords.map((item) => (\r\n              <MediaResultCard key={`history-${item.id}`} item={item} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
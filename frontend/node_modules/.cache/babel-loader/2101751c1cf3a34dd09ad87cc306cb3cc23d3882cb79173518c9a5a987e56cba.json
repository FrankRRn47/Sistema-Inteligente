{"ast":null,"code":"import _objectSpread from\"C:/Users/Loq/Desktop/gatoportafolio/EmocionesDos - versioncuatroedit01 - 100% funcional - vedit/SIMPACeditDos/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import useAuth from'../hooks/useAuth.js';import{registerUser}from'../services/authService.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const navigate=useNavigate();const{login}=useAuth();const[form,setForm]=useState({full_name:'',email:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[fieldErrors,setFieldErrors]=useState({});const passwordHint='Mínimo 8 caracteres, con una mayúscula, un número y un símbolo.';const handleChange=event=>{const{name,value}=event.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async event=>{event.preventDefault();setError('');setFieldErrors({});setLoading(true);try{const response=await registerUser(form);login(response.token,response.user);navigate('/analyze');}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;setFieldErrors(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.errors)||{});setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||err.message||'No se pudo registrar.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"section\",{className:\"auth-page\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"auth-illustration\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"auth-kicker\",children:\"\\xBFListo para crear tu cuenta?\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Reg\\xEDstrate con tus datos personales para acceder a la plataforma.\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"auth-sample-list\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nombre completo\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Ejemplo: Ana Mart\\xEDnez L\\xF3pez\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Correo empresarial\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Ejemplo: ana.martinez@tuempresa.com\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Contrase\\xF1a segura\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Ejemplo: TuClaveFuerte!2025\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-sample-foot\",children:\"Usa tus datos reales y una contrase\\xF1a segura para proteger tu cuenta.\"})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"auth-layout card\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Crear cuenta\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-stack\",style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"full_name\",children:\"Nombre completo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"full_name\",name:\"full_name\",placeholder:\"Ej. Valeria Torres Andrade\",value:form.full_name,onChange:handleChange,required:true,\"aria-invalid\":Boolean(fieldErrors.full_name)}),fieldErrors.full_name&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:fieldErrors.full_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Correo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",placeholder:\"Ej. valeria.torres@emociones.ai\",value:form.email,onChange:handleChange,required:true,\"aria-invalid\":Boolean(fieldErrors.email)}),fieldErrors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:fieldErrors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",placeholder:\"Ej. EmoRadar!2025\",value:form.password,onChange:handleChange,required:true,minLength:8,title:passwordHint,autoComplete:\"new-password\",\"aria-invalid\":Boolean(fieldErrors.password)}),/*#__PURE__*/_jsx(\"small\",{className:\"form-hint\",children:passwordHint}),fieldErrors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:fieldErrors.password})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'crimson'},children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn\",type:\"submit\",disabled:loading,children:loading?'Creando...':'Registrarme'}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center',marginTop:'0.5rem'},children:[\"\\xBFYa tienes cuenta? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Inicia sesi\\xF3n\"})]})]})]})]});}export default Register;","map":{"version":3,"names":["useState","Link","useNavigate","useAuth","registerUser","jsx","_jsx","jsxs","_jsxs","Register","navigate","login","form","setForm","full_name","email","password","loading","setLoading","error","setError","fieldErrors","setFieldErrors","passwordHint","handleChange","event","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","response","token","user","err","_err$response","_err$response$data","_err$response2","_err$response2$data","data","errors","message","className","children","onSubmit","style","display","flexDirection","gap","htmlFor","id","placeholder","onChange","required","Boolean","type","minLength","title","autoComplete","color","disabled","textAlign","marginTop","to"],"sources":["C:/Users/Loq/Desktop/gatoportafolio/EmocionesDos - versioncuatroedit01 - 100% funcional - vedit/SIMPACeditDos/frontend/src/pages/Register.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nimport useAuth from '../hooks/useAuth.js';\r\nimport { registerUser } from '../services/authService.js';\r\n\r\nfunction Register() {\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth();\r\n  const [form, setForm] = useState({ full_name: '', email: '', password: '' });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n  const passwordHint = 'Mínimo 8 caracteres, con una mayúscula, un número y un símbolo.';\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setError('');\r\n    setFieldErrors({});\r\n    setLoading(true);\r\n    try {\r\n      const response = await registerUser(form);\r\n      login(response.token, response.user);\r\n      navigate('/analyze');\r\n    } catch (err) {\r\n      setFieldErrors(err.response?.data?.errors || {});\r\n      setError(err.response?.data?.message || err.message || 'No se pudo registrar.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth-page\">\r\n      <article className=\"auth-illustration\">\r\n        <p className=\"auth-kicker\">¿Listo para crear tu cuenta?</p>\r\n        <h2>Regístrate con tus datos personales para acceder a la plataforma.</h2>\r\n        <ul className=\"auth-sample-list\">\r\n          <li>\r\n            <span>Nombre completo</span>\r\n            <strong>Ejemplo: Ana Martínez López</strong>\r\n          </li>\r\n          <li>\r\n            <span>Correo empresarial</span>\r\n            <strong>Ejemplo: ana.martinez@tuempresa.com</strong>\r\n          </li>\r\n          <li>\r\n            <span>Contraseña segura</span>\r\n            <strong>Ejemplo: TuClaveFuerte!2025</strong>\r\n          </li>\r\n        </ul>\r\n        <p className=\"auth-sample-foot\">\r\n          Usa tus datos reales y una contraseña segura para proteger tu cuenta.\r\n        </p>\r\n      </article>\r\n\r\n      <article className=\"auth-layout card\">\r\n        <h1 className=\"page-title\">Crear cuenta</h1>\r\n        <form onSubmit={handleSubmit} className=\"form-stack\" style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"full_name\">Nombre completo</label>\r\n            <input\r\n              id=\"full_name\"\r\n              name=\"full_name\"\r\n              placeholder=\"Ej. Valeria Torres Andrade\"\r\n              value={form.full_name}\r\n              onChange={handleChange}\r\n              required\r\n              aria-invalid={Boolean(fieldErrors.full_name)}\r\n            />\r\n            {fieldErrors.full_name && <p className=\"form-error\">{fieldErrors.full_name}</p>}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Correo</label>\r\n            <input\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"Ej. valeria.torres@emociones.ai\"\r\n              value={form.email}\r\n              onChange={handleChange}\r\n              required\r\n              aria-invalid={Boolean(fieldErrors.email)}\r\n            />\r\n            {fieldErrors.email && <p className=\"form-error\">{fieldErrors.email}</p>}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Contraseña</label>\r\n            <input\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Ej. EmoRadar!2025\"\r\n              value={form.password}\r\n              onChange={handleChange}\r\n              required\r\n              minLength={8}\r\n              title={passwordHint}\r\n              autoComplete=\"new-password\"\r\n              aria-invalid={Boolean(fieldErrors.password)}\r\n            />\r\n            <small className=\"form-hint\">{passwordHint}</small>\r\n            {fieldErrors.password && <p className=\"form-error\">{fieldErrors.password}</p>}\r\n          </div>\r\n          {error && <p style={{ color: 'crimson' }}>{error}</p>}\r\n          <button className=\"primary-btn\" type=\"submit\" disabled={loading}>\r\n            {loading ? 'Creando...' : 'Registrarme'}\r\n          </button>\r\n          <p style={{ textAlign: 'center', marginTop: '0.5rem' }}>\r\n            ¿Ya tienes cuenta? <Link to=\"/login\">Inicia sesión</Link>\r\n          </p>\r\n        </form>\r\n      </article>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"2MAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAEpD,MAAO,CAAAC,OAAO,KAAM,qBAAqB,CACzC,OAASC,YAAY,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAES,KAAM,CAAC,CAAGR,OAAO,CAAC,CAAC,CAC3B,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,CAAEc,SAAS,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC5E,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACqB,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClD,KAAM,CAAAuB,YAAY,CAAG,iEAAiE,CAEtF,KAAM,CAAAC,YAAY,CAAIC,KAAK,EAAK,CAC9B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,KAAK,CAACG,MAAM,CACpCf,OAAO,CAAEgB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACH,IAAI,EAAGC,KAAK,EAAG,CAAC,CACjD,CAAC,CAED,KAAM,CAAAI,YAAY,CAAG,KAAO,CAAAN,KAAK,EAAK,CACpCA,KAAK,CAACO,cAAc,CAAC,CAAC,CACtBZ,QAAQ,CAAC,EAAE,CAAC,CACZE,cAAc,CAAC,CAAC,CAAC,CAAC,CAClBJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAA7B,YAAY,CAACQ,IAAI,CAAC,CACzCD,KAAK,CAACsB,QAAQ,CAACC,KAAK,CAAED,QAAQ,CAACE,IAAI,CAAC,CACpCzB,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAE,MAAO0B,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CAAAC,cAAA,CAAAC,mBAAA,CACZlB,cAAc,CAAC,EAAAe,aAAA,CAAAD,GAAG,CAACH,QAAQ,UAAAI,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcI,IAAI,UAAAH,kBAAA,iBAAlBA,kBAAA,CAAoBI,MAAM,GAAI,CAAC,CAAC,CAAC,CAChDtB,QAAQ,CAAC,EAAAmB,cAAA,CAAAH,GAAG,CAACH,QAAQ,UAAAM,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAcE,IAAI,UAAAD,mBAAA,iBAAlBA,mBAAA,CAAoBG,OAAO,GAAIP,GAAG,CAACO,OAAO,EAAI,uBAAuB,CAAC,CACjF,CAAC,OAAS,CACRzB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEV,KAAA,YAASoC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC5BrC,KAAA,YAASoC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACpCvC,IAAA,MAAGsC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,iCAA4B,CAAG,CAAC,cAC3DvC,IAAA,OAAAuC,QAAA,CAAI,sEAAiE,CAAI,CAAC,cAC1ErC,KAAA,OAAIoC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC9BrC,KAAA,OAAAqC,QAAA,eACEvC,IAAA,SAAAuC,QAAA,CAAM,iBAAe,CAAM,CAAC,cAC5BvC,IAAA,WAAAuC,QAAA,CAAQ,mCAA2B,CAAQ,CAAC,EAC1C,CAAC,cACLrC,KAAA,OAAAqC,QAAA,eACEvC,IAAA,SAAAuC,QAAA,CAAM,oBAAkB,CAAM,CAAC,cAC/BvC,IAAA,WAAAuC,QAAA,CAAQ,qCAAmC,CAAQ,CAAC,EAClD,CAAC,cACLrC,KAAA,OAAAqC,QAAA,eACEvC,IAAA,SAAAuC,QAAA,CAAM,sBAAiB,CAAM,CAAC,cAC9BvC,IAAA,WAAAuC,QAAA,CAAQ,6BAA2B,CAAQ,CAAC,EAC1C,CAAC,EACH,CAAC,cACLvC,IAAA,MAAGsC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,0EAEhC,CAAG,CAAC,EACG,CAAC,cAEVrC,KAAA,YAASoC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACnCvC,IAAA,OAAIsC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC5CrC,KAAA,SAAMsC,QAAQ,CAAEf,YAAa,CAACa,SAAS,CAAC,YAAY,CAACG,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAL,QAAA,eACpHrC,KAAA,QAAKoC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvC,IAAA,UAAO6C,OAAO,CAAC,WAAW,CAAAN,QAAA,CAAC,iBAAe,CAAO,CAAC,cAClDvC,IAAA,UACE8C,EAAE,CAAC,WAAW,CACd1B,IAAI,CAAC,WAAW,CAChB2B,WAAW,CAAC,4BAA4B,CACxC1B,KAAK,CAAEf,IAAI,CAACE,SAAU,CACtBwC,QAAQ,CAAE9B,YAAa,CACvB+B,QAAQ,MACR,eAAcC,OAAO,CAACnC,WAAW,CAACP,SAAS,CAAE,CAC9C,CAAC,CACDO,WAAW,CAACP,SAAS,eAAIR,IAAA,MAAGsC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAExB,WAAW,CAACP,SAAS,CAAI,CAAC,EAC5E,CAAC,cACNN,KAAA,QAAKoC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvC,IAAA,UAAO6C,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,QAAM,CAAO,CAAC,cACrCvC,IAAA,UACE8C,EAAE,CAAC,OAAO,CACV1B,IAAI,CAAC,OAAO,CACZ+B,IAAI,CAAC,OAAO,CACZJ,WAAW,CAAC,iCAAiC,CAC7C1B,KAAK,CAAEf,IAAI,CAACG,KAAM,CAClBuC,QAAQ,CAAE9B,YAAa,CACvB+B,QAAQ,MACR,eAAcC,OAAO,CAACnC,WAAW,CAACN,KAAK,CAAE,CAC1C,CAAC,CACDM,WAAW,CAACN,KAAK,eAAIT,IAAA,MAAGsC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAExB,WAAW,CAACN,KAAK,CAAI,CAAC,EACpE,CAAC,cACNP,KAAA,QAAKoC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvC,IAAA,UAAO6C,OAAO,CAAC,UAAU,CAAAN,QAAA,CAAC,eAAU,CAAO,CAAC,cAC5CvC,IAAA,UACE8C,EAAE,CAAC,UAAU,CACb1B,IAAI,CAAC,UAAU,CACf+B,IAAI,CAAC,UAAU,CACfJ,WAAW,CAAC,mBAAmB,CAC/B1B,KAAK,CAAEf,IAAI,CAACI,QAAS,CACrBsC,QAAQ,CAAE9B,YAAa,CACvB+B,QAAQ,MACRG,SAAS,CAAE,CAAE,CACbC,KAAK,CAAEpC,YAAa,CACpBqC,YAAY,CAAC,cAAc,CAC3B,eAAcJ,OAAO,CAACnC,WAAW,CAACL,QAAQ,CAAE,CAC7C,CAAC,cACFV,IAAA,UAAOsC,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEtB,YAAY,CAAQ,CAAC,CAClDF,WAAW,CAACL,QAAQ,eAAIV,IAAA,MAAGsC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAExB,WAAW,CAACL,QAAQ,CAAI,CAAC,EAC1E,CAAC,CACLG,KAAK,eAAIb,IAAA,MAAGyC,KAAK,CAAE,CAAEc,KAAK,CAAE,SAAU,CAAE,CAAAhB,QAAA,CAAE1B,KAAK,CAAI,CAAC,cACrDb,IAAA,WAAQsC,SAAS,CAAC,aAAa,CAACa,IAAI,CAAC,QAAQ,CAACK,QAAQ,CAAE7C,OAAQ,CAAA4B,QAAA,CAC7D5B,OAAO,CAAG,YAAY,CAAG,aAAa,CACjC,CAAC,cACTT,KAAA,MAAGuC,KAAK,CAAE,CAAEgB,SAAS,CAAE,QAAQ,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAnB,QAAA,EAAC,wBACnC,cAAAvC,IAAA,CAACL,IAAI,EAACgE,EAAE,CAAC,QAAQ,CAAApB,QAAA,CAAC,kBAAa,CAAM,CAAC,EACxD,CAAC,EACA,CAAC,EACA,CAAC,EACH,CAAC,CAEd,CAEA,cAAe,CAAApC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}